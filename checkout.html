<html lang="es"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Finalizar Compra - Turrones Calderón</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&amp;family=Poppins:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>
<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#f18b1e",
                        "primary-hover": "#d67610",
                        "background-light": "#ffffff",
                        "background-dark": "#121212",
                        "surface-light": "#f8f9fa",
                        "surface-dark": "#1e1e1e",
                        "premium-brown": "#4f1f15",
                        "soft-off-white": "#fdfbf7",
                    },
                    fontFamily: {
                        display: ["Playfair Display", "serif"],
                        sans: ["Poppins", "sans-serif"],
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                        lg: "0.75rem",
                        full: "9999px",
                    },
                },
            },
        };
    </script>
<style type="text/tailwindcss">
        html {
            scroll-behavior: smooth;
        }
        .no-scrollbar::-webkit-scrollbar {
          display: none;
        }
        .no-scrollbar {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
    </style>
</head>
<body class="font-sans antialiased bg-soft-off-white dark:bg-background-dark text-gray-900 dark:text-gray-100 transition-colors duration-300 relative">
<nav class="sticky top-0 left-0 w-full z-50 px-6 py-4 lg:px-12 flex justify-between items-center text-premium-brown dark:text-white bg-white/95 dark:bg-surface-dark/95 backdrop-blur shadow-sm">
<div class="flex-shrink-0">
<a class="text-2xl lg:text-3xl font-display font-bold tracking-wider hover:opacity-80 transition-opacity" href="#">
            CALDERÓN
        </a>
</div>
<div class="hidden md:flex space-x-8 lg:space-x-12 font-medium text-sm lg:text-base tracking-wide font-sans">
<a class="hover:text-primary transition-colors border-b-2 border-transparent hover:border-primary pb-1" href="./index.html">Inicio</a>
<a class="text-primary border-b-2 border-primary pb-1" href="./producto.html">Productos</a>
<a class="hover:text-primary transition-colors border-b-2 border-transparent hover:border-primary pb-1" href="./empresa.html">Para Empresas</a>
<a class="hover:text-primary transition-colors border-b-2 border-transparent hover:border-primary pb-1" href="./tiendas.html">Tiendas</a>
<a class="hover:text-primary transition-colors border-b-2 border-transparent hover:border-primary pb-1" href="./contacto.html">Contacto</a>
</div>
<div class="flex items-center space-x-6">
<button aria-label="Toggle Dark Mode" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors focus:outline-none" id="theme-toggle">
<span class="material-symbols-outlined">dark_mode</span>
</button>
<a class="relative group p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full transition-all cursor-pointer">
<span class="material-symbols-outlined text-2xl lg:text-3xl">shopping_cart</span>
<span class="absolute top-1 right-0 h-4 w-4 bg-primary text-white text-[10px] font-bold flex items-center justify-center rounded-full group-hover:scale-110 transition-transform">2</span>
</a>
</div>
</nav>
<main class="max-w-7xl mx-auto px-6 py-12 lg:px-12">
<div class="flex flex-col lg:flex-row gap-12">
<div class="w-full lg:w-2/3 space-y-10">
<section>
<h2 class="font-display text-3xl font-bold mb-8 text-premium-brown dark:text-white border-b border-gray-200 dark:border-gray-800 pb-4">Datos de Envío</h2>
<form class="grid grid-cols-1 md:grid-cols-2 gap-6">
<div class="col-span-1 md:col-span-2">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" for="email">Correo Electrónico</label>
<input class="w-full rounded-lg border-gray-300 dark:border-gray-700 bg-white dark:bg-surface-dark focus:ring-primary focus:border-primary py-3 px-4" id="email" placeholder="ejemplo@correo.com" type="email"/>
</div>
<div class="col-span-1">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" for="firstname">Nombres</label>
<input class="w-full rounded-lg border-gray-300 dark:border-gray-700 bg-white dark:bg-surface-dark focus:ring-primary focus:border-primary py-3 px-4" id="firstname" placeholder="Juan" type="text"/>
</div>
<div class="col-span-1">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" for="lastname">Apellidos</label>
<input class="w-full rounded-lg border-gray-300 dark:border-gray-700 bg-white dark:bg-surface-dark focus:ring-primary focus:border-primary py-3 px-4" id="lastname" placeholder="Pérez" type="text"/>
</div>
<div class="col-span-1 md:col-span-2">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" for="address">Dirección de Entrega</label>
<input class="w-full rounded-lg border-gray-300 dark:border-gray-700 bg-white dark:bg-surface-dark focus:ring-primary focus:border-primary py-3 px-4" id="address" placeholder="Av. Principal 123, Dpto 401" type="text"/>
</div>
<div class="col-span-1">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" for="district">Distrito</label>
<select class="w-full rounded-lg border-gray-300 dark:border-gray-700 bg-white dark:bg-surface-dark focus:ring-primary focus:border-primary py-3 px-4" id="district">
<option value="">Seleccionar Distrito</option>
<option value="miraflores">Miraflores</option>
<option value="san-isidro">San Isidro</option>
<option value="barranco">Barranco</option>
<option value="surco">Santiago de Surco</option>
<option value="lima">Cercado de Lima</option>
</select>
</div>
<div class="col-span-1">
<label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2" for="phone">Teléfono</label>
<input class="w-full rounded-lg border-gray-300 dark:border-gray-700 bg-white dark:bg-surface-dark focus:ring-primary focus:border-primary py-3 px-4" id="phone" placeholder="999 999 999" type="tel"/>
</div>
</form>
</section>
<section>
<h2 class="font-display text-3xl font-bold mb-8 text-premium-brown dark:text-white border-b border-gray-200 dark:border-gray-800 pb-4">Método de Pago</h2>
<div class="space-y-4">
<div class="relative">
<input checked="" class="peer hidden" id="payment_card" name="payment_method" type="radio"/>
<label class="flex items-center justify-between p-4 bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer peer-checked:border-primary peer-checked:ring-1 peer-checked:ring-primary transition-all shadow-sm" for="payment_card">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-gray-500 peer-checked:text-primary">credit_card</span>
<span class="font-medium">Tarjeta de Crédito / Débito</span>
</div>
<div class="flex gap-2 opacity-60">
<img alt="Visa" class="h-6" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBjn7ALwjply3d1gRRze-sQQMoESL-6RPSzNu2RMuwVGaKqMCiips_KiFtdsU-st78rDIepxZ-iaFV-tEvnBSMuKcnctZf4W4Q2WcY9UxWJrrjDVh4hAw8J9o2l8DfcQMJoHOh_bsP6GmEgrLCOKW3jZjerFL2NifK23sZdHIS15fji5JemvzlNR-G63C9axJX2dNc7M9yAsFNO2C9NNEFuSTz612S6g1IfRlILpKHdrAqsGQ4iOqKT-2hz7Z0_1_ICztFZUu0bDm33"/>
<img alt="Mastercard" class="h-6" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDSVShAmDcY-Bcg3GMh4mfbnZoiIqAC9oNeUxm3OvykF6nUaf7n-JxoPZfY4n0A20UaXFhtRxP-GNh8HdXkbv8Y61o6YhKeCCOVCKhpsqCJFVmSpyyROE_QwdtkIb9gQug0ruqpuVg38q65zLPtnSQMSa8hUa0s4HnS0MaD_l0UZz0irq9KOTl9Rf8N5iiRDQmSVEnrN9xNM9TzBM_WdJH8vpkXansRtLe2KssYHRrAd814NYq-LHF1kvhBuar82H3DyPZQ3G7jL55y"/>
</div>
</label>
<div class="hidden peer-checked:block mt-4 p-6 bg-gray-50 dark:bg-surface-dark/50 rounded-lg border border-gray-200 dark:border-gray-700 animate-fade-in">
<div class="grid grid-cols-2 gap-4">
<div class="col-span-2">
<label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">Número de Tarjeta</label>
<input class="w-full rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-surface-dark focus:ring-primary focus:border-primary p-2.5" placeholder="0000 0000 0000 0000" type="text"/>
</div>
<div class="col-span-2 md:col-span-1">
<label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">Fecha de Expiración</label>
<input class="w-full rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-surface-dark focus:ring-primary focus:border-primary p-2.5" placeholder="MM/YY" type="text"/>
</div>
<div class="col-span-2 md:col-span-1">
<label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">CVV</label>
<input class="w-full rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-surface-dark focus:ring-primary focus:border-primary p-2.5" placeholder="123" type="text"/>
</div>
<div class="col-span-2">
<label class="block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1">Nombre del Titular</label>
<input class="w-full rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-surface-dark focus:ring-primary focus:border-primary p-2.5" placeholder="Como aparece en la tarjeta" type="text"/>
</div>
</div>
</div>
</div>
<div>
<input class="peer hidden" id="payment_yape" name="payment_method" type="radio"/>
<label class="flex items-center justify-between p-4 bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer peer-checked:border-primary peer-checked:ring-1 peer-checked:ring-primary transition-all shadow-sm" for="payment_yape">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-gray-500 peer-checked:text-primary">qr_code_scanner</span>
<span class="font-medium">Yape / Plin</span>
</div>
<span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded font-bold">Rápido</span>
</label>
</div>
<div>
<input class="peer hidden" id="payment_bank" name="payment_method" type="radio"/>
<label class="flex items-center justify-between p-4 bg-white dark:bg-surface-dark border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer peer-checked:border-primary peer-checked:ring-1 peer-checked:ring-primary transition-all shadow-sm" for="payment_bank">
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-gray-500 peer-checked:text-primary">account_balance</span>
<span class="font-medium">Transferencia Bancaria</span>
</div>
</label>
</div>
</div>
</section>
</div>
<div class="w-full lg:w-1/3">
<div class="sticky top-28 bg-white dark:bg-surface-dark rounded-2xl shadow-lg border border-gray-100 dark:border-gray-800 p-8">
<h3 class="font-display text-2xl font-bold mb-6 text-premium-brown dark:text-white">Resumen del Pedido</h3>
<div class="space-y-6 mb-8 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar">
<div class="flex gap-4 items-center">
<div class="w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-gray-50">
<img alt="Clásico de Miel" class="w-full h-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDEjXAtVgM45r2H6n9lSJ3lD3gCu-Ih3FibAmarMAyQFc9_QF-MjqSG9gs8jXotpI5iFY2WJ7HTvQjidAcvSkfHf6tQ6XHSBbkHwoVe0EOOQXitsW9FxhJ68hqKGc_PYLGln-CyadceuljCq5qNFsFrwUdLYla_OTaP6dwRwp9bK5HR7BXLEILKavlsm-npMQbeHxYDrTLyBtDpjkBBhldqKRkgbrLiw5gbILv_IOlxjIyCi_VKBoZoRZPA-IQ1iezUgujA_2qlcdmJ"/>
</div>
<div class="flex-1">
<h4 class="font-semibold text-sm text-gray-900 dark:text-white">Clásico de Miel</h4>
<p class="text-xs text-gray-500">500g</p>
</div>
<div class="text-right">
<p class="text-xs text-gray-500 mb-1">x 1</p>
<p class="font-bold text-sm text-gray-900 dark:text-white">$24.90</p>
</div>
</div>
<div class="flex gap-4 items-center">
<div class="w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-gray-50">
<img alt="Fusión de Cacao" class="w-full h-full object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCOKWfayhOy_61NfHCgzwclLKy6VXcAUnREzQczUW1AREq_rFwDBQYyscY0RpAbF1jxfDGC2v3OmhiCKZaIsijvRAo0c5-xIZV5NnI3x810qC0bLlgxTfXEum_wvG27lfOGUhyxAlUGeUmnY351v5E-OJLNcbWPjrp1klLxw-eKWQQoSaWGulCOTp_fe4t0KmZ4QhB0SYXcjAl1C1btdTJhXrmnAF9lql1tPT8JeO9tsgGdKxTMKFfd_5R8_NCnktn2xYxwtILESkjx"/>
</div>
<div class="flex-1">
<h4 class="font-semibold text-sm text-gray-900 dark:text-white">Fusión de Cacao</h4>
<p class="text-xs text-gray-500">400g</p>
</div>
<div class="text-right">
<p class="text-xs text-gray-500 mb-1">x 2</p>
<p class="font-bold text-sm text-gray-900 dark:text-white">$57.00</p>
</div>
</div>
</div>
<div class="border-t border-gray-100 dark:border-gray-800 pt-6 space-y-3">
<div class="flex justify-between text-sm text-gray-600 dark:text-gray-400">
<span>Subtotal</span>
<span>$81.90</span>
</div>
<div class="flex justify-between text-sm text-gray-600 dark:text-gray-400">
<span>Costo de Envío</span>
<span>$5.00</span>
</div>
<div class="flex justify-between items-center pt-4 border-t border-gray-100 dark:border-gray-800 mt-4">
<span class="font-bold text-lg text-gray-900 dark:text-white">Total</span>
<span class="font-sans font-semibold text-[30px] text-primary leading-none">$86.90</span>
</div>
</div>
<button class="w-full bg-primary hover:bg-primary-hover text-white font-bold py-4 px-6 rounded-xl mt-8 shadow-lg shadow-primary/30 transition-all transform active:scale-[0.98] text-lg uppercase tracking-wide">
                    Finalizar Compra
                </button>
<div class="mt-6 flex items-center justify-center gap-2 text-xs text-gray-400">
<span class="material-symbols-outlined text-sm">lock</span>
<span>Pago 100% Seguro y Encriptado</span>
</div>
</div>
</div>
</div>
</main>
<footer class="bg-premium-brown text-white pt-20 pb-10 font-sans mt-12">
<div class="max-w-7xl mx-auto px-6 lg:px-12">
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 lg:gap-8 mb-16">
<div class="space-y-6">
<a class="text-3xl font-display font-bold tracking-wider inline-block" href="#">CALDERÓN</a>
<p class="text-white text-sm leading-relaxed font-normal opacity-90">
                    Preservando el arte del turrón tradicional peruano con los mejores ingredientes y el amor de nuestra familia desde hace generaciones.
                </p>
<div class="flex items-center gap-4">
<a class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-primary transition-colors text-white" href="#">
<svg class="w-5 h-5 fill-current" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg>
</a>
</div>
</div>
<div>
<h4 class="text-lg font-bold mb-6 tracking-wide uppercase">Enlaces Rápidos</h4>
<ul class="space-y-4">
<li><a class="text-white hover:text-primary transition-colors text-sm font-normal" href="./index.html">Inicio</a></li>
<li><a class="text-white hover:text-primary transition-colors text-sm font-normal" href="./producto.html">Productos</a></li>
<li><a class="text-white hover:text-primary transition-colors text-sm font-normal" href="./empresa.html">Para Empresas</a></li>
<li><a class="text-white hover:text-primary transition-colors text-sm font-normal" href="./tiendas.html">Tiendas</a></li>
<li><a class="text-white hover:text-primary transition-colors text-sm font-normal" href="./contacto.html">Contacto</a></li>
</ul>
</div>
<div>
<h4 class="text-lg font-bold mb-6 tracking-wide uppercase">Ayuda</h4>
<ul class="space-y-4">
<li><a class="text-white hover:text-primary transition-colors text-sm font-normal" href="#">Preguntas Frecuentes</a></li>
<li><a class="text-white hover:text-primary transition-colors text-sm font-normal" href="#">Envíos y Devoluciones</a></li>
<li><a class="text-white hover:text-primary transition-colors text-sm font-normal" href="#">Libro de Reclamaciones</a></li>
</ul>
</div>
<div class="space-y-6">
<h4 class="text-lg font-bold mb-6 tracking-wide uppercase">Contacto</h4>
<div class="space-y-4">
<div class="flex items-start gap-3">
<span class="material-symbols-outlined text-primary text-xl">location_on</span>
<p class="text-white text-sm font-normal opacity-90">Av. Abancay 350, Cercado de Lima, Perú</p>
</div>
<div class="flex items-center gap-3">
<span class="material-symbols-outlined text-primary text-xl">call</span>
<a class="text-white hover:text-primary text-sm font-normal opacity-90" href="tel:+5114278901">(01) 427-8901</a>
</div>
</div>
</div>
</div>
<div class="pt-8 border-t border-white/20 flex flex-col md:flex-row justify-between items-center gap-6">
<p class="text-gray-300 text-xs font-normal tracking-widest uppercase text-center md:text-left">
                © 2023 Turrones Calderón. Todos los derechos reservados.
            </p>
<div class="flex items-center gap-6 grayscale opacity-40">
<img alt="Visa" class="h-6 w-auto" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBjn7ALwjply3d1gRRze-sQQMoESL-6RPSzNu2RMuwVGaKqMCiips_KiFtdsU-st78rDIepxZ-iaFV-tEvnBSMuKcnctZf4W4Q2WcY9UxWJrrjDVh4hAw8J9o2l8DfcQMJoHOh_bsP6GmEgrLCOKW3jZjerFL2NifK23sZdHIS15fji5JemvzlNR-G63C9axJX2dNc7M9yAsFNO2C9NNEFuSTz612S6g1IfRlILpKHdrAqsGQ4iOqKT-2hz7Z0_1_ICztFZUu0bDm33"/>
<img alt="Mastercard" class="h-6 w-auto" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDSVShAmDcY-Bcg3GMh4mfbnZoiIqAC9oNeUxm3OvykF6nUaf7n-JxoPZfY4n0A20UaXFhtRxP-GNh8HdXkbv8Y61o6YhKeCCOVCKhpsqCJFVmSpyyROE_QwdtkIb9gQug0ruqpuVg38q65zLPtnSQMSa8hUa0s4HnS0MaD_l0UZz0irq9KOTl9Rf8N5iiRDQmSVEnrN9xNM9TzBM_WdJH8vpkXansRtLe2KssYHRrAd814NYq-LHF1kvhBuar82H3DyPZQ3G7jL55y"/>
<img alt="American Express" class="h-6 w-auto" src="https://lh3.googleusercontent.com/aida-public/AB6AXuCwijIvFzHHiMmkoZ228vVMVKv1TFpifhKbURNnk_4b_lAaXklpBvT2OQrYW3IIY2Jo-iWw3bq65R16owwrcAgoOGeu2cu9TY2cmF1edu_cR3XoGr7ObiZxNXVjwd8O4tLjVoYvMsl0rMeMiAdMDJxxWDVpIg6GFmcdNZ3qWgXi8ASqT01pvhX0CeOcOqlUWgTUdnnVd7m4Wy97oFhucxXwMIAuSsYa7mqcc6jvD6w8AWieK5wasy_RP58w7SzgvTV5XvjE7YkfuYkb"/>
</div>
</div>
</div>
</footer>
<script>
    const themeToggleBtn = document.getElementById('theme-toggle');
    const themeIcon = themeToggleBtn.querySelector('span');
    // Theme Logic
    if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
        themeIcon.textContent = 'light_mode';
    } else {
        document.documentElement.classList.remove('dark');
        themeIcon.textContent = 'dark_mode';
    }
    themeToggleBtn.addEventListener('click', () => {
        document.documentElement.classList.toggle('dark');
        if (document.documentElement.classList.contains('dark')) {
            localStorage.theme = 'dark';
            themeIcon.textContent = 'light_mode';
        } else {
            localStorage.theme = 'light';
            themeIcon.textContent = 'dark_mode';
        }
    });
</script>
<script>
    // --- LÓGICA CHECKOUT ---
    function getCart() { return JSON.parse(localStorage.getItem('turrones-cart')) || []; }
    
    function renderCheckout() {
        const cart = getCart();
        const container = document.querySelector('.space-y-6.mb-8.max-h-\\[300px\\]');
        const subtotalEl = document.querySelectorAll('.border-t span')[1]; // Subtotal value span
        const shippingEl = document.querySelectorAll('.border-t span')[3]; // Shipping value span
        const totalEl = document.querySelector('.text-primary.leading-none'); // Total value span
        
        if(!container) return;
        container.innerHTML = '';

        let subtotal = 0;
        
        cart.forEach(item => {
            subtotal += item.price * item.qty;
            const html = `
            <div class="flex gap-4 items-center">
                <div class="w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-gray-50">
                    <img src="${item.img}" class="w-full h-full object-cover" alt="${item.name}">
                </div>
                <div class="flex-1">
                    <h4 class="font-semibold text-sm text-gray-900 dark:text-white">${item.name}</h4>
                    <p class="text-xs text-gray-500">${item.weight || 'Unidad'}</p>
                </div>
                <div class="text-right">
                    <p class="text-xs text-gray-500 mb-1">x ${item.qty}</p>
                    <p class="font-bold text-sm text-gray-900 dark:text-white">$${(item.price * item.qty).toFixed(2)}</p>
                </div>
            </div>`;
            container.insertAdjacentHTML('beforeend', html);
        });

        const shipping = subtotal > 0 ? 5.00 : 0;
        const total = subtotal + shipping;

        // Actualizar textos (buscando por posición relativa ya que no hay IDs)
        const summaryRows = document.querySelectorAll('.border-t .flex.justify-between');
        if(summaryRows.length >= 2) {
            summaryRows[0].children[1].textContent = `$${subtotal.toFixed(2)}`;
            summaryRows[1].children[1].textContent = `$${shipping.toFixed(2)}`;
        }
        if(totalEl) totalEl.textContent = `$${total.toFixed(2)}`;
    }

    // Finalizar Compra
    const finishBtn = document.querySelector('button.w-full.bg-primary');
    if(finishBtn) {
        finishBtn.onclick = (e) => {
            e.preventDefault();
            const cart = getCart();
            if(cart.length === 0) { alert('El carrito está vacío'); return; }

            // Crear Orden
            const orders = JSON.parse(localStorage.getItem('turrones-orders')) || [];
            const newOrder = {
                id: `#ORD-${Math.floor(1000 + Math.random() * 9000)}`,
                customer: document.getElementById('firstname')?.value || 'Cliente Web',
                total: document.querySelector('.text-primary.leading-none')?.textContent || '$0.00',
                status: 'Pendiente',
                date: new Date().toISOString(),
                items: cart
            };
            orders.unshift(newOrder); // Agregar al inicio
            localStorage.setItem('turrones-orders', JSON.stringify(orders));
            
            // Limpiar carrito
            localStorage.removeItem('turrones-cart');
            alert('¡Pedido realizado con éxito! Gracias por su compra.');
            window.location.href = './index.html';
        };
    }

    renderCheckout();
</script>
</body></html>